<!DOCTYPE html>
<html>

<head>
    <base target="_top">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background-color: #f8f9fa;
            margin: 0;
            padding: 20px;
        }

        .email-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .email-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 24px;
            text-align: center;
        }

        .email-content {
            padding: 24px;
        }

        .alert-badge {
            display: inline-block;
            background-color: #ffeaa7;
            color: #2d3436;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 16px;
        }
    </style>
</head>

<body>
    <div class="email-container">
        <div class="email-header">
            <h1 style="margin: 0; font-size: 24px; font-weight: 600;">üéâ Party Form Updated</h1>
        </div>
        <div class="email-content">
            <div class="alert-badge">‚ö†Ô∏è Last Minute Change</div>
            <p style="font-size: 16px; margin-bottom: 8px; color: #2c3e50;">A parent has filled in a party form for a
                second time.</p>
            <p style="font-size: 14px; color: #6c757d; margin-bottom: 24px;">This email is to warn you in case of a last
                minute change!</p>

            <h3
                style="color: #2c3e50; font-size: 18px; margin-bottom: 16px; border-bottom: 2px solid #667eea; padding-bottom: 8px;">
                üìã Booking Information</h3>
            <table
                style="border-collapse: collapse; width: 100%; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-radius: 8px; overflow: hidden;">
                <tr style="background-color: #f8f9fa;">
                    <td
                        style="padding: 16px 20px; font-weight: 600; color: #495057; border-bottom: 1px solid #e9ecef; width: 30%;">
                        üë§ Parent</td>
                    <td style="padding: 16px 20px; border-bottom: 1px solid #e9ecef; color: #2c3e50;">{{ parentName }}
                    </td>
                </tr>
                <tr style="background-color: #ffffff;">
                    <td style="padding: 16px 20px; font-weight: 600; color: #495057; border-bottom: 1px solid #e9ecef;">
                        üìß Email</td>
                    <td style="padding: 16px 20px; border-bottom: 1px solid #e9ecef;"><a href="mailto:{{ parentEmail }}"
                            style="color: #667eea; text-decoration: none;">{{ parentEmail }}</a></td>
                </tr>
                <tr style="background-color: #f8f9fa;">
                    <td style="padding: 16px 20px; font-weight: 600; color: #495057; border-bottom: 1px solid #e9ecef;">
                        üì± Phone</td>
                    <td style="padding: 16px 20px; border-bottom: 1px solid #e9ecef;"><a href="tel:{{ parentMobile }}"
                            style="color: #667eea; text-decoration: none;">{{ parentMobile }}</a></td>
                </tr>
                <tr style="background-color: #ffffff;">
                    <td style="padding: 16px 20px; font-weight: 600; color: #495057; border-bottom: 1px solid #e9ecef;">
                        üßí Child</td>
                    <td style="padding: 16px 20px; border-bottom: 1px solid #e9ecef; color: #2c3e50;">{{ childName }}
                    </td>
                </tr>
                <tr style="background-color: #f8f9fa;">
                    <td style="padding: 16px 20px; font-weight: 600; color: #495057;">üìÖ Date / Time</td>
                    <td style="padding: 16px 20px; color: #2c3e50;">{{ dateTime }}</td>
                </tr>
            </table>

            <h3
                style="color: #2c3e50; font-size: 18px; margin: 32px 0 16px 0; border-bottom: 2px solid #667eea; padding-bottom: 8px;">
                üîÑ Changes Made</h3>
            <table
                style="border-collapse: collapse; width: 100%; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-radius: 8px; overflow: hidden;">

                <thead>
                    <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        <th
                            style="padding: 16px 12px; font-weight: 600; color: white; text-align: left; font-size: 14px; width: 25%;">
                            Category</th>
                        <th
                            style="padding: 16px 12px; font-weight: 600; color: white; text-align: left; font-size: 14px;">
                            Previous Selection</th>
                        <th
                            style="padding: 16px 12px; font-weight: 600; color: white; text-align: left; font-size: 14px;">
                            New Selection</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="background-color: #f8f9fa;">
                        <td
                            style="padding: 16px 12px; font-weight: 600; color: #495057; border-bottom: 1px solid #e9ecef;">
                            üé® Creations</td>
                        <td style="padding: 16px 12px; border-bottom: 1px solid #e9ecef;">
                            <div style="color: #6c757d;">
                                {{#oldCreations}}
                                <div
                                    style="margin-bottom: 4px; padding: 4px 8px; background-color: #e9ecef; border-radius: 4px; display: inline-block; margin-right: 8px; font-size: 13px;">
                                    {{.}}</div>
                                {{/oldCreations}}
                            </div>
                        </td>
                        <td style="padding: 16px 12px; border-bottom: 1px solid #e9ecef;">
                            <div style="color: #28a745;">
                                {{#newCreations}}
                                <div
                                    style="margin-bottom: 4px; padding: 4px 8px; background-color: #d4edda; border-radius: 4px; display: inline-block; margin-right: 8px; font-size: 13px;">
                                    {{.}}</div>
                                {{/newCreations}}
                            </div>
                        </td>
                    </tr>
                    {{^isMobile}}
                    <tr style="background-color: #ffffff;">
                        <td
                            style="padding: 16px 12px; font-weight: 600; color: #495057; border-bottom: 1px solid #e9ecef;">
                            üçï Food Package</td>
                        <td style="padding: 16px 12px; border-bottom: 1px solid #e9ecef; white-space: nowrap;">
                            {{#oldIncludesFood}}
                            <span
                                style="padding: 6px 12px; background-color: #d1ecf1; color: #0c5460; border-radius: 20px; font-size: 13px; font-weight: 500; white-space: nowrap;">‚úÖ
                                Food included</span>
                            {{/oldIncludesFood}}
                            {{^oldIncludesFood}}
                            <span
                                style="padding: 6px 12px; background-color: #f8d7da; color: #721c24; border-radius: 20px; font-size: 13px; font-weight: 500; white-space: nowrap;">üçΩÔ∏è
                                Self Catering</span>
                            {{/oldIncludesFood}}
                        </td>
                        <td style="padding: 16px 12px; border-bottom: 1px solid #e9ecef; white-space: nowrap;">
                            {{#newIncludesFood}}
                            <span
                                style="padding: 6px 12px; background-color: #d1ecf1; color: #0c5460; border-radius: 20px; font-size: 13px; font-weight: 500; white-space: nowrap;">‚úÖ
                                Food included</span>
                            {{/newIncludesFood}}
                            {{^newIncludesFood}}
                            <span
                                style="padding: 6px 12px; background-color: #f8d7da; color: #721c24; border-radius: 20px; font-size: 13px; font-weight: 500; white-space: nowrap;">üçΩÔ∏è
                                Self Catering</span>
                            {{/newIncludesFood}}
                        </td>
                    </tr>
                    <tr style="background-color: #f8f9fa;">
                        <td
                            style="padding: 16px 12px; font-weight: 600; color: #495057; border-bottom: 1px solid #e9ecef;">
                            ‚ûï Additions</td>
                        <td style="padding: 16px 12px; border-bottom: 1px solid #e9ecef;">
                            <div style="color: #6c757d;">
                                {{#oldAdditions}}
                                <div
                                    style="margin-bottom: 4px; padding: 4px 8px; background-color: #e9ecef; border-radius: 4px; display: inline-block; margin-right: 8px; font-size: 13px;">
                                    {{.}}</div>
                                {{/oldAdditions}}
                            </div>
                        </td>
                        <td style="padding: 16px 12px; border-bottom: 1px solid #e9ecef;">
                            <div style="color: #28a745;">
                                {{#newAdditions}}
                                <div
                                    style="margin-bottom: 4px; padding: 4px 8px; background-color: #d4edda; border-radius: 4px; display: inline-block; margin-right: 8px; font-size: 13px;">
                                    {{.}}</div>
                                {{/newAdditions}}
                            </div>
                        </td>
                    </tr>
                    {{ #newCake.selection }}
                    <tr style="background-color: #ffffff;">
                        <td
                            style="padding: 16px 12px; font-weight: 600; color: #495057; border-bottom: 1px solid #e9ecef;">
                            üéÇ Cake</td>
                        <td style="padding: 16px 12px; border-bottom: 1px solid #e9ecef;">
                            <div style="color: #6c757d; line-height: 1.6;">
                                <div style="margin-bottom: 4px;"><strong>Selection:</strong> {{ oldCake.selection }}
                                </div>
                                <div style="margin-bottom: 4px;"><strong>Size:</strong> {{ oldCake.size }}</div>
                                <div style="margin-bottom: 4px;"><strong>Flavours:</strong> {{ oldCake.flavours }}</div>
                                <div style="margin-bottom: 4px;"><strong>Served:</strong> {{ oldCake.served }}</div>
                                <div style="margin-bottom: 4px;"><strong>Candles:</strong> {{ oldCake.candles }}</div>
                                {{ #oldCake.message }}
                                <div
                                    style="margin-top: 8px; padding: 8px; background-color: #f1f3f4; border-radius: 4px; font-style: italic;">
                                    "{{ oldCake.message }}"</div>
                                {{ /oldCake.message}}
                            </div>
                        </td>
                        <td style="padding: 16px 12px; border-bottom: 1px solid #e9ecef;">
                            <div style="color: #28a745; line-height: 1.6;">
                                <div style="margin-bottom: 4px;"><strong>Selection:</strong> {{ newCake.selection }}
                                </div>
                                <div style="margin-bottom: 4px;"><strong>Size:</strong> {{ newCake.size }}</div>
                                <div style="margin-bottom: 4px;"><strong>Flavours:</strong> {{ newCake.flavours }}</div>
                                <div style="margin-bottom: 4px;"><strong>Served:</strong> {{ newCake.served }}</div>
                                <div style="margin-bottom: 4px;"><strong>Candles:</strong> {{ newCake.candles }}</div>
                                {{ #newCake.message }}
                                <div
                                    style="margin-top: 8px; padding: 8px; background-color: #d4edda; border-radius: 4px; font-style: italic;">
                                    "{{ newCake.message }}"</div>
                                {{ /newCake.message}}
                            </div>
                        </td>
                    </tr>
                    {{ /newCake.selection }}
                    {{/isMobile}}
                </tbody>
            </table>

            {{#oldTakeHomeBags}}{{#newTakeHomeBags}}
            <h3
                style="color: #2c3e50; font-size: 18px; margin: 32px 0 16px 0; border-bottom: 2px solid #667eea; padding-bottom: 8px;">
                üõí Additional Items Purchased</h3>
            <p style="font-size: 14px; color: #6c757d; margin-bottom: 16px;">The customer purchased additional items of
                the following. In their booking, it will show the total amount purchased.</p>

            <table
                style="border-collapse: collapse; margin-top: 20px; width: 100%; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-radius: 8px; overflow: hidden;">
                <thead>
                    <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        <th
                            style="padding: 16px 12px; font-weight: 600; color: white; text-align: left; font-size: 14px;">
                            Item
                            Type</th>
                        <th
                            style="padding: 16px 12px; font-weight: 600; color: white; text-align: left; font-size: 14px;">
                            Previously Purchased</th>
                        <th
                            style="padding: 16px 12px; font-weight: 600; color: white; text-align: left; font-size: 14px;">
                            Newly
                            Purchased</th>
                    </tr>
                </thead>
                <tbody>
                    {{/newTakeHomeBags}}{{/oldTakeHomeBags}}

                    {{#oldTakeHomeBags}}
                    <tr style="background-color: #f8f9fa;">
                        <td
                            style="padding: 16px 12px; font-weight: 600; color: #495057; border-bottom: 1px solid #e9ecef;">
                            üéí
                            Take Home Bags</td>
                        <td style="padding: 16px 12px; border-bottom: 1px solid #e9ecef;">
                            <div style="color: #6c757d;">
                                {{#oldTakeHomeBags}}
                                <div
                                    style="margin-bottom: 6px; padding: 4px 8px; background-color: #e9ecef; border-radius: 4px; display: inline-block; margin-right: 8px; font-size: 13px;">
                                    {{name}} √ó {{quantity}}</div>
                                {{/oldTakeHomeBags}}
                            </div>
                        </td>
                        <td style="padding: 16px 12px; border-bottom: 1px solid #e9ecef;">
                            {{#newTakeHomeBags}}
                            <div style="color: #28a745;">
                                {{#newTakeHomeBags}}
                                <div
                                    style="margin-bottom: 6px; padding: 4px 8px; background-color: #d4edda; border-radius: 4px; display: inline-block; margin-right: 8px; font-size: 13px;">
                                    {{name}} √ó {{quantity}}</div>
                                {{/newTakeHomeBags}}
                            </div>
                            {{/newTakeHomeBags}}
                            {{^newTakeHomeBags}}
                            <span style="color: #6c757d; font-style: italic;">None</span>
                            {{/newTakeHomeBags}}
                        </td>
                    </tr>
                    {{/oldTakeHomeBags}}

                    {{#oldProducts}}
                    <tr style="background-color: #ffffff;">
                        <td
                            style="padding: 16px 12px; font-weight: 600; color: #495057; border-bottom: 1px solid #e9ecef;">
                            üõçÔ∏è
                            Products</td>
                        <td style="padding: 16px 12px; border-bottom: 1px solid #e9ecef;">
                            <div style="color: #6c757d;">
                                {{#oldProducts}}
                                <div
                                    style="margin-bottom: 6px; padding: 4px 8px; background-color: #e9ecef; border-radius: 4px; display: inline-block; margin-right: 8px; font-size: 13px;">
                                    {{name}} √ó {{quantity}}</div>
                                {{/oldProducts}}
                            </div>
                        </td>
                        <td style="padding: 16px 12px; border-bottom: 1px solid #e9ecef;">
                            {{#newProducts}}
                            <div style="color: #28a745;">
                                {{#newProducts}}
                                <div
                                    style="margin-bottom: 6px; padding: 4px 8px; background-color: #d4edda; border-radius: 4px; display: inline-block; margin-right: 8px; font-size: 13px;">
                                    {{name}} √ó {{quantity}}</div>
                                {{/newProducts}}
                            </div>
                            {{/newProducts}}
                            {{^newProducts}}
                            <span style="color: #6c757d; font-style: italic;">None</span>
                            {{/newProducts}}
                        </td>
                    </tr>
                    {{/oldProducts}}

                    {{#oldTakeHomeBags}}{{#newTakeHomeBags}}
                </tbody>
            </table>
            {{/newTakeHomeBags}}{{/oldTakeHomeBags}}
        </div>
    </div>
</body>

</html>